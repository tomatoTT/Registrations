{% extends "base.html.twig" %}

{% block stylesheetsForMapChart %}
    <link href="{{ asset('css/mapChart/mapapolski.css') }}" type="text/css" rel="stylesheet" />
    <link href="{{ asset('css/mapChart/mapChartMS.css') }}" type="text/css" rel="stylesheet" />
{% endblock %}

{% block javascriptLinkForMapChart %}
    <script src="{{ asset('js/mapChart/dataMapLoad.js') }}"></script>
    <script src="{{ asset('js/mapChart/dataMapMSCss.js') }}"></script>
    <script src="{{ asset('js/mapChart/dataMapMS.js') }}"></script>
    <script src="{{ asset('js/mapChart/dataMapTivCss.js') }}"></script>
    <script src="{{ asset('js/inputForChart/createInputMapChart.js') }}"></script>
    <script src="{{ asset('js/mapChart/sendInputMapChart.js') }}"></script>
    <script src="{{ asset('js/mapChart/countyClick/countyClickLoad.js') }}"></script>
    <script src="{{ asset('js/lineChart/Chart.js') }}"></script>
    <script src="{{ asset('js/lineChart/lineChartDraw.js') }}"></script>
    <script src="{{ asset('js/lineChart/lineChartDrawDatasets.js') }}"></script>
    <script src="{{ asset('js/lineChart/labelsForLineChart.js') }}"></script>
    <script src="{{ asset('js/lineChart/loadDataForLineChart.js') }}"></script>
    <script src="{{ asset('js/lineChart/labelMakeConditions.js') }}"></script>
    <script src="{{ asset('js/inputForChart/inputButtonsManage.js') }}"></script>
    <script src="{{ asset('js/inputForChart/inputButtonsDefinition.js') }}"></script>
    <script src="{{ asset('js/mapChart/dataMapTopCss.js') }}"></script>
    <script src="{{ asset('js/mapChart/countyClick/sortTable.js') }}"></script>
{% endblock %}

{% block bodyForMpaChart %}
    <div id="loadingImage"><h1>LOADING</h1></div>
    <div id="inputForm"><div id="slider-range"></div></div>
    <div id="mapChart">
        {% include "@Web/svg/mapapolski.svg" %}
    </div>
    <div id="mapDetails"></div>
    <div id="lineChartContainer"></div>
{% endblock %}

{% block javascriptsForMapChart %}
    <script>
        $(document).ready(function() {
            $("#loadingImage").hide();
            let inputData, siteTitle, urlList;
            siteTitle = $("title").first().text();
            urlList = {
                'Map MS': '/mapChart/loadDataMS',
                'Map TIV': '/mapChart/loadDataTiv',
                'Map TOP': '/mapChart/loadDataTopMake'
            };
            inputData = {
                regYearMin: 2017,
                regMonthMin: 1,
                regYearMax: 2017,
                regMonthMax: 12,
                make: "JOHNDEERE",
                county: ""
            };            
            inputButtonsDefinition(siteTitle);
            inputButtonsManage(urlList, inputData, siteTitle);
            dataMapLoad(urlList, inputData, siteTitle);
            $(".st0, .st1").click(function() {                
                inputData.county = this.id;
                console.log(inputData);
                countyClickLoad("/mapChart/loadCountyDetails", inputData);
                checkBoxLineChart("#lineChartForMap", inputData);                
            });

        });
    </script>
{% endblock %}